{
	"version": "2.0.0",
	"options": {
		"env": {
		  "C": "C:/msys64/mingw64/bin/gcc"
		}
	 },
	"tasks": [
		{
			"type": "shell",
			"label": "Execute Ninja (Debug)",
			"command": "ninja",
			"options": {
				"cwd": "${workspaceFolder}/build/mingw/debug"
			},
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": true,
				"clear": false
			}
		},
		{
			"type": "shell",
			"label": "Run CMake (Debug)",
			"command": "cmake",
			"args": [
				"-DCMAKE_BUILD_TYPE=Debug",
				"../../..",
				"-G",
				"Ninja"
			],
			"options": {
				"cwd": "${workspaceFolder}/build/mingw/debug"
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": true,
				"clear": false
			}
		},
		{
			"type": "shell",
			"label": "Execute Ninja (Release)",
			"command": "ninja",
			"options": {
				"cwd": "${workspaceFolder}/build/mingw/release"
			},
			"group": {
				"kind": "build",
				"isDefault": false
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": true,
				"clear": false
			}
		},
		{
			"type": "shell",
			"label": "Run CMake (Release)",
			"command": "cmake",
			"args": [
				"-DCMAKE_BUILD_TYPE=Release",
				"../../..",
				"-G",
				"Ninja",
			],
			"options": {
				"cwd": "${workspaceFolder}/build/mingw/release"
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": true,
				"clear": false
			}
		},
		{
			"type": "shell",
			"label": "Execute Ninja (RelWithDebInfo)",
			"command": "ninja",
			"options": {
				"cwd": "${workspaceFolder}/examples/balatro_feel/build/mingw/rel_with_deb_info"
			},
			"group": {
				"kind": "build",
				"isDefault": false
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": true,
				"clear": false
			}
		},
		{
			"type": "shell",
			"label": "Run CMake (RelWithDebInfo)",
			"command": "cmake",
			"args": [
				"-DCMAKE_BUILD_TYPE=RelWithDebInfo",
				"../../..",
				"-G",
				"Ninja",
			],
			"options": {
				"cwd": "${workspaceFolder}build/mingw/rel_with_deb_info"
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": true,
				"clear": false
			}
		},
		{
			"type": "shell",
			"label": "Run CMake (Visual Studio 2022)",
			"command": "cmake",
			"args": [
				"../..",
				"-G",
				"Visual Studio 17 2022",
			],
			"options": {
				"cwd": "${workspaceFolder}/build/visual_studio"
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": true,
				"clear": false
			}
		},
		{
			"type": "process",
			"options": {
                "shell": {
                    "executable": "powershell.exe"
                }
            },
			"label": "Run with gdbserver",
			"command": "C:\\msys64\\mingw64\\bin\\gdbserver.exe",
			"args": [
				"localhost:2000",
				"${workspaceFolder}\\build\\mingw\\debug\\zno.exe"
			], 
			"isBackground": true,
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "new",
				"showReuseMessage": true,
				"clear": false,
				"close": false
			},
			"problemMatcher": [
				{
				  "pattern": [
					{
					  "regexp": ".",
					  "file": 1,
					  "location": 2,
					  "message": 3
					}
				  ],
				  "background": {
					"activeOnStart": true,
					"beginsPattern": ".*Listening on port.*",
					"endsPattern": ".*",
				  }
				}
			  ]
		},
		{
			"type": "shell",
			"label": "Update Submodules",
			"command": "git submodule update --remote",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": true,
				"clear": false
			}
		}
	]
}